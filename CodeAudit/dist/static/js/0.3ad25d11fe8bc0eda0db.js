webpackJsonp([0],{"24UV":function(t,e){},QZUM:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l={data:function(){return{drawer:!1,search_keyword:"",tableData:[],currentPage:1,pageSize:10,labelPosition:"left",git_path:"",git_user:"",git_pwd:""}},methods:{getData:function(){var t=this;this.http.getProjectDetail().then(function(e){t.tableData=e.data.data}).catch()},git_start_scan:function(){var t=this,e={git_path:this.git_path,git_user:this.git_user,git_pwd:this.git_pwd,type:"1"};this.http.gitStartScan(e).then(function(e){t.$message({message:e.data.msg,type:"success"})}).catch()},handleSizeChange:function(t){this.pageSize=t},handleCurrentChange:function(t){this.currentPage=t},handleClose:function(t){this.$confirm("确认关闭？").then(function(e){t()}).catch(function(t){})},onSubmit:function(){this.$message({message:"恭喜发财",type:"success"})},cellClick:function(t,e,a,l){if(2===e.index){var i=t.id;this.$router.push({path:"/projectDatail",query:{projectID:i}}),console.log(t.id)}},getCellIndex:function(t){var e=t.row,a=t.column,l=t.rowIndex,i=t.columnIndex;e.index=l,a.index=i},setCellStyle:function(t){var e=t.row,a=(t.column,t.rowIndex),l=t.columnIndex;return a===this.rowIndex&&l===this.columnIndex?{"background-color":"#009221"}:2===l?{color:"blue",cursor:"pointer"}:"已完成"===e.status&&7===l?{color:"blue","font-weight":"800"}:"进行中"===e.status&&7===l?{color:"green","font-weight":"800"}:void 0}},created:function(){},mounted:function(){this.getData()},watch:{}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sysOnline"},[a("div",{staticStyle:{margin:"10px 0 5px 0"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:function(e){t.drawer=!0}}},[t._v("新建扫描")]),t._v(" "),a("el-input",{staticClass:"input-with-select",staticStyle:{float:"right",width:"50%"},attrs:{placeholder:"请输入搜索关键词",size:"mini"},model:{value:t.search_keyword,callback:function(e){t.search_keyword=e},expression:"search_keyword"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search",type:"primary"},slot:"append"})],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData.slice((t.currentPage-1)*t.pageSize,t.currentPage*t.pageSize),border:"",size:"mini","cell-class-name":t.getCellIndex,"cell-style":t.setCellStyle},on:{"cell-click":t.cellClick}},[a("el-table-column",{attrs:{prop:"id",label:"操作",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-delete handleData",on:{click:t.onSubmit}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"50",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"项目名称",align:"center",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"git",label:"git地址",align:"left","max-width":"800"}}),t._v(" "),a("el-table-column",{attrs:{prop:"time",label:"扫描时间",align:"center",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",align:"center",width:"60"}}),t._v(" "),a("el-table-column",{attrs:{prop:"total",label:"漏洞数量",align:"center",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100",align:"center",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.status))])]}}])})],1),t._v(" "),a("div",{attrs:{id:"fenye"}},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,30,50,100],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-drawer",{attrs:{title:"我是标题",visible:t.drawer,"with-header":!1,size:"45%"},on:{"update:visible":function(e){t.drawer=e}}},[a("div",{attrs:{id:"needDrawer"}},[a("div",{staticStyle:{margin:"20px"}}),t._v(" "),a("div",[a("el-row",{attrs:{gutter:12}},[a("el-col",{attrs:{span:24}},[a("el-card",{attrs:{shadow:"never"}},[a("label",{staticClass:"labelword",attrs:{for:""}},[t._v(" 请输入gitlab地址： ")]),t._v(" "),a("el-input",{staticClass:"inputword",attrs:{placeholder:"请输入gitlab地址",clearable:""},model:{value:t.git_path,callback:function(e){t.git_path=e},expression:"git_path"}}),t._v(" "),a("label",{staticClass:"labelword",attrs:{for:""}},[t._v(" 请输入gitlab用户名： ")]),t._v(" "),a("el-input",{staticClass:"inputword",attrs:{placeholder:"请输入gitlab用户名",clearable:""},model:{value:t.git_user,callback:function(e){t.git_user=e},expression:"git_user"}}),t._v(" "),a("label",{staticClass:"labelword",attrs:{for:""}},[t._v(" 请输入gitlab密码 ")]),t._v("\n              ：\n              "),a("el-input",{staticClass:"inputword",attrs:{placeholder:"请输入gitlab密码",clearable:""},model:{value:t.git_pwd,callback:function(e){t.git_pwd=e},expression:"git_pwd"}}),t._v(" "),a("div",{attrs:{id:"startscan"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.git_start_scan}},[t._v("开始扫描")])],1)],1)],1)],1)],1)])])],1)},staticRenderFns:[]};var n=a("VU/8")(l,i,!1,function(t){a("24UV")},"data-v-fb1b4caa",null);e.default=n.exports}});
//# sourceMappingURL=0.3ad25d11fe8bc0eda0db.js.map